<form method="post" action="{% url 'booking:set_availability' %}">
    {% csrf_token %}
    {{ formset.management_form }}
    <pre>{{ formset|length }} slots loaded</pre>

    <table class="availability-table">
        <thead>
        <tr>
            <th>Day</th>
            <th>Start Time</th>
            <th>End Time</th>
            <th>Booked?</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        {% for form in formset %}
            <tr>
                <td>{{ form.day_of_week }}</td>
                <td>{{ form.start_time }}</td>
                <td>{{ form.end_time }}</td>
                <td>{{ form.is_booked }}</td>
                <td>{% if form.DELETE %}{{ form.DELETE }}{% endif %}</td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="5">No availability slots defined.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <button type="submit" class="btn">Save Weekly Availability</button>
</form>
